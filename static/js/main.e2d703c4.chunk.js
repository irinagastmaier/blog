(this["webpackJsonpblog-posts"]=this["webpackJsonpblog-posts"]||[]).push([[0],{28:function(t,e,n){t.exports={container:"Navbar_container__VeJ04",logo:"Navbar_logo__19oGG"}},49:function(t,e,n){},52:function(t,e,n){"use strict";n.r(e);var r=n(3),c=n.n(r),s=n(22),o=n.n(s),a=n(10),i=n(38),u=(n(49),n(11)),l=n.n(u),j=n(16),b=n(15),d=n(25),p=n(27),h=n(8),O=n.n(h),f=n(1);function m(){return(m=Object(b.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://jsonplaceholder.typicode.com/comments?postId=".concat(e));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return(x=Object(b.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://jsonplaceholder.typicode.com/postId/".concat(e),{method:"DELETE"});case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){var e=t.post,n=Object(r.useState)(!1),c=Object(j.a)(n,2),s=c[0],o=c[1],i=Object(r.useState)(""),u=Object(j.a)(i,2),h=u[0],g=u[1],v=Object(a.useQuery)(["comments",e.id],(function(){return function(t){return m.apply(this,arguments)}(e.id)})),y=v.data,_=v.isLoading,C=v.error,N=v.isError,w=Object(a.useMutation)((function(t){return function(t){return x.apply(this,arguments)}(t)})),P=Object(a.useMutation)((function(t){return k(t)}));if(_)return Object(f.jsx)("h3",{children:"Loading..."});if(N)return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h3",{children:"Oops, something went wrong"}),Object(f.jsx)("p",{children:C.toString()})]});var k=function(){var t=Object(b.a)(l.a.mark((function t(e,n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,fetch("https://jsonplaceholder.typicode.com/postId/".concat(n),{method:"PATCH",data:{title:h}});case 3:return r=t.sent,t.abrupt("return",r.json());case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:O.a.container,children:[Object(f.jsx)("h3",{style:{color:"#1d8dbe",paddingBottom:"0.5rem"},children:e.title}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{className:O.a.btn,onClick:function(){return w.mutate(e.id)},children:"Delete"}),w.isError&&Object(f.jsx)("p",{style:{color:"red"},children:"Error"}),w.isLoading&&Object(f.jsx)("p",{style:{color:"purple"},children:"Deleting"}),w.isSuccess&&Object(f.jsx)("p",{style:{color:"green"},children:"Deleted"}),Object(f.jsx)("button",{className:O.a.btn,onClick:function(){return o(!s)},children:"Update title"}),s&&Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{onSubmit:function(){return P.mutate(e.id)},children:[Object(f.jsx)("input",{type:"text",name:"title",id:"title",onChange:function(t){g(Object(p.a)(Object(p.a)({},h),{},Object(d.a)({},t.target.name,t.target.value)))},className:O.a.pd,placeholder:"type title"}),Object(f.jsx)("button",{type:"submit",className:O.a.btn,children:"Submit"})]})})]}),Object(f.jsx)("p",{children:e.body}),Object(f.jsx)("h4",{children:"Comments"}),y.map((function(t){return Object(f.jsxs)("li",{children:[t.email,": ",t.body]},t.id)}))]})}function v(t){return y.apply(this,arguments)}function y(){return(y=Object(b.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://jsonplaceholder.typicode.com/posts?_limit=10&_page=".concat(e));case 2:return n=t.sent,t.abrupt("return",n.json());case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){var t=Object(r.useState)(1),e=Object(j.a)(t,2),n=e[0],c=e[1],s=Object(r.useState)(null),o=Object(j.a)(s,2),i=o[0],u=o[1],l=Object(a.useQueryClient)(),b=Object(a.useQuery)(["posts",n],(function(){return v(n)}),{staleTime:2e3,keepPreviousData:!0}),d=b.data,p=b.isError,h=b.error,m=b.isLoading;return Object(r.useEffect)((function(){if(n<10){var t=n+1;l.prefetchQuery(["posts",t],(function(){return v(t)}))}}),[n,l]),m?Object(f.jsx)("h3",{children:"Loading..."}):p?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h3",{children:"Oops, something went wrong"}),Object(f.jsx)("p",{children:h.toString()})]}):Object(f.jsxs)("div",{className:O.a.container,children:[Object(f.jsx)("ul",{children:d.map((function(t){return Object(f.jsx)("li",{className:O.a.title,onClick:function(){return u(t)},children:t.title},t.id)}))}),Object(f.jsxs)("div",{className:O.a.pages,children:[Object(f.jsx)("button",{className:O.a.btnCount,disabled:n<=1,onClick:function(){c((function(t){return t-1}))},children:"Previous"}),Object(f.jsxs)("span",{children:["Page ",n]}),Object(f.jsx)("button",{className:O.a.btnCount,disabled:n>=10,onClick:function(){c((function(t){return t+1}))},children:"Next"})]}),Object(f.jsx)("hr",{}),i&&Object(f.jsx)(g,{post:i})]})}var C=n.p+"static/media/logo.c37b8280.svg",N=n(28),w=n.n(N);function P(){return Object(f.jsx)("div",{className:w.a.container,children:Object(f.jsx)("img",{src:C,alt:"logo",className:w.a.logo})})}var k=new a.QueryClient;var S=function(){return Object(f.jsxs)(a.QueryClientProvider,{client:k,children:[Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(P,{}),Object(f.jsx)(_,{})]}),Object(f.jsx)(i.ReactQueryDevtools,{})]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,s=e.getLCP,o=e.getTTFB;n(t),r(t),c(t),s(t),o(t)}))};o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(S,{})}),document.getElementById("root")),E()},8:function(t,e,n){t.exports={container:"Posts_container__1zV2P",title:"Posts_title__1WYM5",pages:"Posts_pages__2zthf",btnCount:"Posts_btnCount__3l8ER",btn:"Posts_btn__326gW",pd:"Posts_pd__2vopi"}}},[[52,1,2]]]);
//# sourceMappingURL=main.e2d703c4.chunk.js.map